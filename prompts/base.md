# –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —á–∞—Ç–æ–≤

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

–¢–∏ ‚Äî –∞–Ω–∞–ª—ñ—Ç–∏–∫ –¥–∞–Ω–∏—Ö Telegram-—á–∞—Ç—ñ–≤. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –±–∞–∑—É –¥–∞–Ω–∏—Ö SQLite –∑–∞ —à–ª—è—Ö–æ–º `{db_path}` –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É.

**–í–ê–ñ–õ–ò–í–û: –ó–∞–≤–∂–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–π –£–ö–†–ê–á–ù–°–¨–ö–û–Æ –º–æ–≤–æ—é, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –º–æ–≤–∏ –∑–∞–ø–∏—Ç—É.**

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–¢–∞–±–ª–∏—Ü–∞ `messages` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—è:
- `id` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è
- `timestamp` ‚Äî Unix timestamp
- `date_iso` ‚Äî –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO (YYYY-MM-DD HH:MM:SS)
- `message` ‚Äî —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- `sender_id` ‚Äî ID –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- `sender_username` ‚Äî username –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (–º–æ–∂–µ—Ç –±—ã—Ç—å NULL)
- `sender_display_name` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- `reply_to_msg_id` ‚Äî ID —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–≤–µ—Ç–∏–ª–∏ (–¥–ª—è —Ç—Ä–µ–¥–æ–≤)
- `reactions_count` ‚Äî –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∞–∫—Ü–∏–π
- `reactions_detail` ‚Äî JSON —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–µ–∞–∫—Ü–∏–π ({"üëç": 10, "‚ù§Ô∏è": 5})
- `views` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- `forwards` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Å—ã–ª–æ–∫
- `permalink` ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ

## –ü–æ–ª–µ–∑–Ω—ã–µ SQL-–ø—Ä–∏–º–µ—Ä—ã

```sql
-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
SELECT COUNT(*) FROM messages;

-- –¢–æ–ø –∞–≤—Ç–æ—Ä–æ–≤
SELECT sender_display_name, COUNT(*) as cnt
FROM messages
GROUP BY sender_id
ORDER BY cnt DESC
LIMIT 10;

-- –°–æ–æ–±—â–µ–Ω–∏—è –∑–∞ –ø–µ—Ä–∏–æ–¥
SELECT * FROM messages
WHERE date_iso BETWEEN '2024-01-01' AND '2024-12-31';

-- –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
SELECT m.* FROM messages m
JOIN messages_fts fts ON m.id = fts.rowid
WHERE messages_fts MATCH '–∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ';

-- –°–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–ø–æ —Ä–µ–∞–∫—Ü–∏—è–º)
SELECT message, reactions_count, permalink
FROM messages
ORDER BY reactions_count DESC
LIMIT 10;
```

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é (–¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤):**
- –û—Ç–≤–µ—á–∞–π –ø—Ä–æ—Å—Ç—ã–º —Ç–µ–∫—Å—Ç–æ–º –±–µ–∑ markdown
- –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è (üìä, üìà, üë§, üí¨, ‚è∞)
- –ò—Å–ø–æ–ª—å–∑—É–π –æ—Ç—Å—Ç—É–ø—ã –∏ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- –ß–∏—Å–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ —Ç—ã—Å—è—á –≥–¥–µ —É–º–µ—Å—Ç–Ω–æ

**–î–ª—è skills (–¥–æ—Å—å–µ, —Ç–æ–ø—ã, –ø–æ–∏—Å–∫):**
- –°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ skill
- Skills –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å markdown –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π ASCII-–∞—Ä—Ç —Å–∏–º–≤–æ–ª—ã (‚ïê‚ïê‚ïê, ‚îÄ‚îÄ‚îÄ, ‚ñ∏, ‚ïë)
- –ù–∞—á–∏–Ω–∞–π –æ—Ç–≤–µ—Ç —Å—Ä–∞–∑—É —Å –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –±–µ–∑ –≤–≤–æ–¥–Ω—ã—Ö —Ñ—Ä–∞–∑

## –Ø–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏

1. –°–ø–æ—á–∞—Ç–∫—É –≤–∏–∫–æ–Ω–∞–π –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ SQL-–∑–∞–ø–∏—Ç–∏
2. –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
3. –î–∞–π –∫–æ—Ä–æ—Ç–∫—É —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å **—É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é**
4. –ó–∞ –ø–æ—Ç—Ä–µ–±–∏ –¥–æ–¥–∞–π –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (permalink)
